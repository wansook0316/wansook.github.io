---
layout: post
title: "백준(4195번): 친구 네트워크"
category: "CS/Algorithm"
comments: true
tags: [백준, 알고리즘, "union-find"]
feature-img: "assets/img/57.jpg"
feature-title:
use_math: true
series: "Algorithm Problem Solving"
---

**_골드2_** : union find 문제이다.

# 풀이

으으 너무 아쉽다. 잘해놓고 같은 친구가 들어올 경우에 계산이 중복된다는 것을 체크하지 못했다.

그리고 지나고 보니 코드가 더러워서 다시짰다.

# Code

```python
import sys

input = sys.stdin.readline
parent = []

def find(x):
    if parent[x][0] == x:
        return x
    else:
        parent[x][0] = find(parent[x][0])
        return parent[x][0]

def union(x, y):
    px, py = find(x), find(y)
    if px < py:
        parent[py][0] = px
        parent[px][1] += parent[py][1]
    else:
        parent[px][0] = py
        parent[py][1] += parent[px][1]

T = int(input())

for _ in range(T):
    f = int(input())
    name_dict = dict()
    num = 0
    parent = []
    for _ in range(f):
        a, b = input().split()
        if a not in name_dict:
            name_dict[a] = num
            parent.append([num, 1])
            num += 1
        if b not in name_dict:
            name_dict[b] = num
            parent.append([num, 1])
            num += 1

        if find(name_dict[a]) != find(name_dict[b]):
            union(name_dict[a], name_dict[b])
        
        print(parent[find(name_dict[a])][1])

```

```python

```

# Reference

[백준(4195번) - 친구 네트워크](https://www.acmicpc.net/problem/4195){: target="\_blank"}
